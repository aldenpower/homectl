<!DOCTYPE html>
<html>
<head>
  <title>Homelab Control</title>
  <style>
    .dot { width: 14px; height: 14px; border-radius: 50%; display:inline-block; }
    .online { background: green; }
    .offline { background: red; }
  </style>
</head>
<body>

<h2>raspberrypi1</h2>
<div>
  <span id="raspberrypi1-dot" class="dot"></span>
  <span id="raspberrypi1-text"></span><br><br>
</div>

<script>
async function update(name) {
  const res = await fetch(`http://localhost:3000/api/status/${name}`);
  const data = await res.json();
  const dot = document.getElementById(`${name}-dot`);
  const text = document.getElementById(`${name}-text`);

  if (data.online) {
    dot.className = "dot online";
    text.textContent = "Online";
  } else {
    dot.className = "dot offline";
    text.textContent = "Offline";
  }
}

update("raspberrypi1");
setInterval(() => update("raspberrypi1"), 5000);
</script>

</body>
</html>
